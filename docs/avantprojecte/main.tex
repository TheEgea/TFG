% LaTeX template for Avantprojecte (TFG Initial Proposal)
% 
% Author: Eloi Egea Rada
% © 2025, Eloi Egea Rada
% Licensed under CC BY-NC-SA 4.0
% Template for Final Degree Projects at Centre Universitari TecnoCampus

\documentclass[a4paper, twoside, 12pt, openright]{report}

% ============================================================================
% PREAMBLE — Packages and configuration
% ============================================================================

% --- Typography with XeLaTeX/LuaLaTeX ---
\usepackage{fontspec}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{float}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{eurosym}
\usepackage{fancyhdr}
\usepackage{etoolbox}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage[nottoc, numbib]{tocbibind}
\usepackage[nonumberlist, toc]{glossaries}
\usepackage[style=ieee, backend=biber]{biblatex}

% Paths RELATIVES (depuis avantprojecte/ -> ../)
\addbibresource{../resources/references.bib}

% Complex tables for time tracking
\usepackage{array}
\usepackage{tabularx}

% Hyperlinks (load AFTER other packages)
\usepackage{hyperref}

% ============================================================================
% OPENDYSLEXIC FONTS SELECTION
% ============================================================================

\setmainfont{OpenDyslexic}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-BoldItalic
]

\setsansfont{OpenDyslexicAlta}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-BoldItalic
]

\setmonofont{OpenDyslexicMono}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular
]

% ============================================================================
% LOAD GLOSSARY
% ============================================================================

\input{../resources/glossary.tex}

\setglossarystyle{altlist}
\setacronymstyle{long-short}
\makeglossaries

% ============================================================================
% TITLE FORMATTING
% ============================================================================

\titleformat{\chapter}[block]{\normalfont\fontsize{18pt}{0pt}\bfseries}{\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{0pt}{\baselineskip}

\titleformat{\section}[block]{\normalfont\fontsize{16pt}{0pt}\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}[block]{\normalfont\fontsize{14pt}{0pt}\bfseries}{\thesubsection}{1em}{}

% ============================================================================
% HYPERLINK CONFIGURATION
% ============================================================================

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=black,
    filecolor=magenta,
    urlcolor=blue,
    pdftitle={Avantprojecte: Pentesting ètic en entorns virtualitzats amb EVE-NG},
    pdfauthor={Eloi Egea Rada},
    pdfpagemode=FullScreen
}

% ============================================================================
% PAGE MARGINS CONFIGURATION
% ============================================================================

\geometry{top=3cm, bottom=2.54cm, left=3cm, right=2.54cm, bindingoffset=0.46cm}
\setlength{\headheight}{14.5pt}
\setlength{\parindent}{0pt}

% Images path (RELATIVE to avantprojecte/)
\graphicspath{{../images/}}

% ============================================================================
% COVER PAGE & PRELIMINARIES
% ============================================================================

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[RO,LE]{\fontsize{10}{12}\textit{\thepage}}
    \fancyhead[RE]{\fontsize{10}{12}\textit{Avantprojecte TFG — Pentesting in virtualized environments}}
    \fancyfoot{}
}

\pagestyle{plain}

\title{
    \begin{figure}
        \centering
        \includegraphics[width=0.85\linewidth]{../images/logo-tecnocampus.png}
    \end{figure}
    
    \fontsize{14pt}{0pt}\textbf{Bachelor in Computer Engineering — Management and Information Systems} \\
    
    \vspace*{3cm}
    
    \textbf{Avantprojecte: Ethical Pentesting in Virtualized Environments with EVE-NG} \\
    
    \vspace*{1.5cm}
    
    \textbf{Initial Project Proposal}
}

\author{
    \fontsize{14pt}{0pt}
    \textbf{Eloi Egea Rada} \\
    \textbf{Supervisor: Pere Vidiella i Catalan}
}

\date{December 2025}

\begin{document}

% === COVER PAGE ===
\maketitle

\newpage
\thispagestyle{empty}
\null
\newpage

% ============================================================================
% TABLE OF CONTENTS & PRELIMINARY PAGES
% ============================================================================

\pagenumbering{Roman}

\tableofcontents

\onehalfspacing
\setlength{\parskip}{12pt}

\printglossary

\newpage
\null
\newpage

% ============================================================================
% MAIN CONTENT (1-6 Chapters only — no development/results)
% ============================================================================

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[RO,LE]{\fontsize{10}{12}\textit{\thepage}}
    \fancyhead[LO]{\fontsize{10}{12}\textit{\nouppercase{\textit{\leftmark}}}}
    \fancyhead[RE]{\fontsize{10}{12}\textit{Avantprojecte TFG — Pentesting in virtualized environments}}
    \fancyfoot{}
}

\pagestyle{plain}

\pagenumbering{arabic}

% === CHAPTER 1: OBJECT ===
\input{../chapters/01_objecte}

% === CHAPTER 2: STATE OF THE ART ===
\input{../chapters/02_estat_art}

% === CHAPTER 3: OBJECTIVES ===
\input{../chapters/03_objectius}

% === CHAPTER 4: METHODOLOGY ===
\input{../chapters/04_metodologia}

% === CHAPTER 5: REQUIREMENTS ===
\input{../chapters/05_requeriments}

% === CHAPTER 6: FEASIBILITY STUDY (Complete) ===
\input{../chapters/06_viabilitat}

% ============================================================================
% BIBLIOGRAPHY
% ============================================================================

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography

\end{document}