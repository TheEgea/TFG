% LaTeX template for Avantprojecte (TFG Initial Proposal)
% 
% Author: Eloi Egea Rada
% © 2025, Eloi Egea Rada
% Licensed under CC BY-NC-SA 4.0
% Template for Final Degree Projects at Centre Universitari TecnoCampus

\documentclass[a4paper, twoside, 12pt, openright]{report}

% ============================================================================
% PREAMBLE — Packages and configuration
% ============================================================================

% --- Typography with XeLaTeX/LuaLaTeX ---
\usepackage{fontspec}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{float}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{eurosym}

\usepackage{fancyhdr} % Per personalitzar capçaleres i peus de pàgina
\usepackage{etoolbox} % Per canviar estils de numeració
\usepackage{geometry} % Per ajustar marges
\usepackage{setspace} % Per ajustar l'interlineat
\usepackage{titlesec} % Paquet per personalitzar els títols
\usepackage[nottoc, numbib]{tocbibind} % Inclou bibliografia i índexs automàticament al ToC
\usepackage[nonumberlist, toc]{glossaries} % Paquet per a la generació del glossari
\usepackage[style=ieee, backend=biber]{biblatex} % Paquet per gestionar la bibliografia en format IEEE

% Complex tables for time tracking
\usepackage{array}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{longtable}
% Hyperlinks (load AFTER other packages)
\usepackage{hyperref}

% ============================================================================
% OPENDYSLEXIC FONTS SELECTION
% ============================================================================

\setmainfont{OpenDyslexic}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-BoldItalic
]

\setsansfont{OpenDyslexicAlta}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-BoldItalic
]

\setmonofont{OpenDyslexicMono}[
    Path = /usr/share/fonts/opentype/opendyslexic/,
    Extension = .otf,
    UprightFont = *-Regular
]

% ============================================================================
% LOAD GLOSSARY
% ============================================================================



% Load glossary definitions from an external file
\input{../../resources/glossary.tex}
\setglossarystyle{altlist}
\setacronymstyle{long-short}
%\makeglossaries 
\addbibresource{../../resources/references.bib} % El fitxer .bib amb les referències


% ============================================================================
% TITLE FORMATTING
% ============================================================================

\titleformat{\chapter}[block]{\normalfont\fontsize{18pt}{0pt}\bfseries}{\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{0pt}{\baselineskip}

\titleformat{\section}[block]{\normalfont\fontsize{16pt}{0pt}\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}[block]{\normalfont\fontsize{14pt}{0pt}\bfseries}{\thesubsection}{1em}{}

% ============================================================================
% HYPERLINK CONFIGURATION
% ============================================================================

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=black,
    filecolor=magenta,
    urlcolor=blue,
    pdftitle={Ethical Pentesting in Virtualized Environments with EVE-NG},
    pdfauthor={Eloi Egea Rada},
    pdfpagemode=FullScreen
}

% ============================================================================
% PAGE MARGINS CONFIGURATION
% ============================================================================

\geometry{top=3cm, bottom=2.54cm, left=3cm, right=2.54cm, bindingoffset=0.46cm}
\setlength{\headheight}{14.5pt}
\setlength{\parindent}{0pt}


\setlength{\headheight}{14.5pt} % Augmentar l'altura de la capçalera


\setlength{\parindent}{0pt} % Desactiva el sagnat dels paràgrafs


% Imatges
\graphicspath{{../../images/}}


% ============================================================================
% COVER PAGE & PRELIMINARIES
% ============================================================================

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[RO,LE]{\fontsize{10}{12}\textit{\thepage}}
    \fancyhead[RE]{\fontsize{10}{12}\textit{Ethical Pentesting in Virtualized Environments with EVE-NG}}
    \fancyfoot{}
}

\pagestyle{plain}

\title{
        \begin{figure}
            \centering
            \includegraphics[width=0.85\linewidth]{../../images/logo-tecnocampus.png}
        \end{figure}
        
        \fontsize{14pt}{0pt}\textbf{Bachelor in Computer Engineering — Management and Information Systems} \\
        
        \vspace*{2cm}

        \textbf{Ethical Pentesting in Virtualized Environments with EVE-NG} \\

        \vspace*{1cm}

        \textbf{Memory} \\
        \textbf{Volume I}

        \vspace*{5cm}
}

\author{
\fontsize{14pt}{0pt}
	\textbf{Eloi Egea Rada} \\
	\textbf{Supervisor: Pere Vidiella i Catalan}
}

\date{December 2025}

\begin{document}

% === COVER PAGE ===
\maketitle

\newpage
\thispagestyle{empty}
\null
\newpage

% ============================================================================
% TABLE OF CONTENTS & PRELIMINARY PAGES
% ============================================================================

\pagenumbering{Roman}

\tableofcontents
%\listoffigures
\listoftables



\onehalfspacing
\setlength{\parskip}{12pt}
%\printglossaries


\newpage
\null
\newpage

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[RO,LE]{\fontsize{10}{12}\textit{\thepage}}
    \fancyhead[LO]{\fontsize{10}{12}\textit{\nouppercase{\textit{\leftmark}}}}
    \fancyhead[RE]{\fontsize{10}{12}\textit{Ethical Pentesting in Virtualized Environments with EVE-NG}}
    \fancyfoot{}
}

\pagestyle{plain}

\pagenumbering{arabic}

\begin{comment}
%\chapter{Introducció i Context}
\chapter{Introduction and Context}

\section{Personal Background and Motivation}

My interest in cybersecurity emerged from hands-on experimentation during 
secondary education (ESO). Rather than purely theoretical learning, I discovered 
practical vulnerabilities in institutional networks through systematic trial-and-error methods:

\begin{itemize}

\item \textbf{Credential Bypass:} Learning Windows 7 authentication mechanisms 
and their weaknesses led to understanding fundamental principles of access control 
and privilege boundaries

\item \textbf{Network Access:} Connecting to private networks within the school 
environment illustrated how network segmentation fails without proper controls

\item \textbf{Device Control:} Discovering the ability to remotely control network 
devices (access points, routers, digital whiteboards) demonstrated how operational 
technology lacks robust security hardening

\end{itemize}

While these early experiments were conducted without formal authorization, they illuminated 
a fundamental insight: \textbf{understanding how systems fail is essential for designing 
systems that don't}. This practical, curiosity-driven learning proved far more memorable 
and impactful than textbook-based instruction. The direct observation of security failures 
in real infrastructure sparked sustained interest in both the technical and pedagogical 
dimensions of cybersecurity education.

\section{The Pedagogical Disconnect}

Ethical hacking, or pentesting, has become a critical skill in today's cybersecurity 
landscape. With the increasing reliance on virtualized environments, there is a growing 
need for practical training platforms that simulate real-world scenarios. However, current 
educational approaches present a significant challenge: while platforms such as HackTheBox\cite{hackthebox} 
and TryHackMe\cite{tryhackme} have become increasingly popular for cybersecurity training, they often focus 
on isolated challenges and gamified scenarios that may not directly reflect the practical 
application of computer science fundamentals taught in a degree program.

This educational disconnect manifests in several ways:

\begin{enumerate}

\item \textbf{Theory-to-Practice Gap:} Students learn databases, networks, and operating 
systems in isolation. They rarely experience how misconfigurations in these foundational 
systems translate to security vulnerabilities exploitable in real-world attacks.

\item \textbf{Tool-Centric Rather Than Methodology-Centric Learning:} Commercial platforms 
teach tool usage (``how to use Nmap'') rather than systematic penetration testing methodologies 
(``how to conduct reconnaissance'').

\item \textbf{Fragmented Learning Paths:} No comprehensive platform integrates multiple 
pentesting domains (reconnaissance --> web vulnerabilities --> network analysis --> privilege 
escalation) while maintaining alignment with specific degree curricula.

\item \textbf{Institutional Dependencies:} External platforms introduce vendor lock-in, 
limit customization, and reduce institutional control over assessment and content evolution.

\end{enumerate}

\section{The Role of EVE-NG in Bridging the Gap}

EVE-NG (Emulated Virtual Environment Next Generation) offers a complementary and more 
customizable approach, providing a robust solution for creating controlled, hands-on learning 
environments that address these pedagogical gaps.

This project aims to develop a series of practical laboratories using EVE-NG that explicitly 
bridge the foundational concepts covered throughout the Computer Engineering degree program
---including databases, network protocols, and operating system internals---with real-world 
security vulnerabilities and pentesting techniques. By demonstrating how these academic 
concepts can be exploited, students gain a deeper appreciation for defensive security practices 
and the critical importance of secure system design. This approach transforms abstract knowledge 
into hands-on experience where students can observe the direct consequences of security 
misconfigurations and understand why rigorous cybersecurity practices are essential.

Furthermore, by leveraging EVE-NG, this project seeks to fill a gap in comprehensive educational 
resources that integrate multiple pentesting tools and attack scenarios into a cohesive learning 
environment aligned with the Computer Engineering curriculum. This reproducible, risk-free, and 
fully customizable approach provides students with the opportunity to practice ethical hacking 
in a controlled setting, progressively building upon prior learning while preparing them for 
the professional responsibility of securing the systems they will design and manage in their careers.
\end{comment}
% ============================================================================
% DEDICATÒRIA
% ============================================================================
%\input{../chapters/dedicatoria.tex}

% ============================================================================
% CAPÍTOL 1: OBJECTE DEL TFG
% ============================================================================


\input{../../chapters/01_objecte.tex}


% ============================================================================
% CAPÍTOL 2: ESTAT DE L'ART
% ============================================================================


\input{../../chapters/02_estat_art.tex}


% ============================================================================
% CAPÍTOL 3: OBJECTIUS I ABAST
% ============================================================================


\input{../../chapters/03_objectius.tex}


% ============================================================================
% CAPÍTOL 4: METODOLOGIA
% ============================================================================


\input{../../chapters/04_metodologia.tex}


% ============================================================================
% CAPÍTOL 5: REQUERIMENTS
% ============================================================================


\input{../../chapters/05_requeriments.tex}

\begin{comment}
% ============================================================================
% CAPÍTOL 6: ESTUDI DE VIABILITAT
% ============================================================================


%\input{../../chapters/06_viabilitat.tex}


% ============================================================================
% CAPÍTOL 7: DESENVOLUPAMENT I IMPLEMENTACIÓ (PLACEHOLDER)
% ============================================================================


\chapter{Development and Implementation}


\section{Arquitectura General}


\textit{En aquesta secció es descriurà l'arquitectura dels laboratoris, la configuració 
de les xarxes virtuals, i la implementació de les topologies EVE-NG.}


\section{Laboratori 1: Reconeixement i Enumeració}


\subsection{Objectius de Laboratori}


\begin{itemize}
    \item Familiarització amb eines de scanning (nmap, Nessus)
    \item Enumeració de serveis i vulnerabilitats
    \item Documentació de descobriments
\end{itemize}


\subsection{Topologia de Xarxa}


\textit{Diagrama de la xarxa i màquines virtuals que componen aquest laboratori.}


\section{Laboratori 2: Vulnerabilitats d'Aplicacions Web}


\subsection{OWASP Top 10}


\textit{Exploració de les vulnerabilitats més crítiques segons OWASP.}


\section{Laboratori 3: Anàlisi de Tràfic i Criptografia}


\textit{Anàlisi de comunicacions de xarxa amb Wireshark i tècniques de criptografia.}


\section{Laboratori 4: Escalada de Privilegis}


\textit{Tècniques d'escalada de privilegis a sistemes Unix i Windows.}


% ============================================================================
% CAPÍTOL 8: RESULTATS I CONCLUSIONS
% ============================================================================


\chapter{Results and Conclusions}


\section{Lliurables Entregats}


\begin{itemize}
    \item 4 topologies EVE-NG funcionals (.unl)
    \item 8-12 imatges de màquines virtuals optimitzades
    \item Scripts d'automatització per a desplegament
    \item Documentació tècnica completa per laboratori
    \item Guies pràctiques per a estudiants
\end{itemize}


\section{Conclusions}


El desenvolupament d'aquests laboratoris proporciona una base sòlida per a la formació 
en pentesting ètic dins del Grau en Enginyeria Informàtica.


\section{Recomanacions per a Treballs Futurs}


\begin{itemize}
    \item Integració amb altres plataformes educatives (Moodle)
    \item Ampliació amb laboratoris d'IoT i xarxes 5G
    \item Automatització de correccions i qualificacions
\end{itemize}



\begin{comment}
\appendix


\chapter{Appendix A: Reproducible LaTeX Build Infrastructure}


\section{Configuració de Docker i TeX Live}


La memòria del present TFG s'ha desenvolupat usant una infraestructura de build reproducible 
basada en TeX Live 2023, latexmk i Docker Compose. Aquesta aproximació garanteix que tots 
els artefactes (PDF, índexs, glosaris) es generin de manera consistent.


\subsection{Hores Invertides en Infraestructura}


\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|r|}
    \hline
    \textbf{Tasca} & \textbf{Descripció} & \textbf{Hores} \\
    \hline
    TeX Live + Docker & Setup de compilació & 2.5h \\
    latexmk + .latexmkrc & Build automatitzat & 1.5h \\
    Estructura modular (chapters/) & Organització de capítols & 3.5h \\
    Validació i testing & Compilació final & 0.5h \\
    \hline
    \textbf{SUBTOTAL} & & \textbf{8.0h} \\
    \hline
    \end{tabular}
\end{table}


\chapter{Appendix B: Laboratory Infrastructure (Homelab)}


\section{Especificacions del Homelab}


\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|r|}
    \hline
    \textbf{Component} & \textbf{Especificació} & \textbf{Hores Setup} \\
    \hline
    Host VMware/Hyper-V & CPU 8-core, RAM 32GB, SSD 500GB & 3.0h \\
    EVE-NG & Simulador de xarxes corporatiu & 4.0h \\
    Kali Linux x3 & Màquines de pentesting & 2.5h \\
    Windows Server & Sistema objectiu & 1.5h \\
    Xarxes virtuals & 3 VLANS, DMZ, backend & 2.0h \\
    \hline
    \textbf{SUBTOTAL} & & \textbf{13.0h} \\
    \hline
    \end{tabular}
\end{table}


\chapter{Appendix C: Total Time Tracking}


\begin{table}[H]
    \centering
    \begin{tabular}{|l|r|r|}
    \hline
    \textbf{Activitat} & \textbf{Hores} & \textbf{Percentatge} \\
    \hline
    Infraestructura LaTeX & 8.0h & 6\% \\
    Infraestructura Homelab & 13.0h & 10\% \\
    Investigació i Disseny & 20.0h & 15\% \\
    Implementació de Laboratoris & 50.0h & 37\% \\
    Documentació & 25.0h & 19\% \\
    Testing i Validació & 15.0h & 11\% \\
    Gestió de Projecte & 5.0h & 4\% \\
    \hline
    \textbf{TOTAL ESTIMAT} & \textbf{136.0h} & \textbf{100\%} \\
    \hline
    \end{tabular}
\end{table}
\end{comment}

% ============================================================================
% BIBLIOGRAFIA
% ============================================================================


\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography


% Incluir el appendici de registre de temps si existeix (evita fallades si falta)

\appendix
\cleardoublepage



\end{document}
